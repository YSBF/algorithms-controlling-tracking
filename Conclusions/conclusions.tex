%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%        1         2         3         4         5         6         7         8
% THESIS CONCLUSIONS
\def\baselinestretch{1}
\chapter{Conclusions}
\label{chap:conclusions}
\ifpdf
    \graphicspath{{Conclusions/Figures/PNG/}{Conclusions/Figures/PDF/}{Conclusions/Figures/}}
\else
    \graphicspath{{Conclusions/Figures/EPS/}{Conclusions/Figures/}}
\fi
\def\baselinestretch{1.66}

This project resulted in a complete integration between different heterogeneous modules. The goal is to stabilize and perform a number of tasks with an IRIS quadcopter with the help of position feedback given by a motion capture system. The course of this project is identified by important steps, or milestones at this point, which reflect the followed plan and highlight important informations that the reader should understand. \\

\noindent
A crucial phase is the integration between different systems which is a necessary condition in order to perform any kind of research. This aspect is treated in this thesis since it is the fist time that an experimental setup, intended for the investigation of aerial vehicle technology, was used in the University of Genoa. In particular, by tweaking internal and external parameters, the system is able to localize himself in a controlled environment without the use of the GPS. Key point of this phase is the adaptation of the two coordinate system: mocap and earth frame. I would like to stress that the integration phase lead to the discovery of a number of bugs which, after being corrected, were pushed to the original PX4 repository and accepted by the administrators. This made me a contributor of the project PX4/PixHawk and permitted some PX4 users to continue their work. The integration of the on board estimator with a position feedback signal is the final step of this first phase. With the trick of faking the earth magnetic field, the system is free from any external source other than the mocap and we can place earth frame wherever is convenient.

I was involved in the relocation of the equipment in the new laboratory, thus a physical integration was also performed solving a number of logistic issues  Thanks to the setup of this new environment, a new study platform is available from now on giving the possibility to expand the research field.

A second milestone is the stabilization of the quadrotor on a position set point. This phase was possible only after modifying the structure of the on board position controller, since it was designed only to fly with GPS, and after tuning controller parameters specifically for IRIS. \\

\noindent
Nevertheless, the most important landmark is the design, development and testing of the software architecture. A simple behavioral system takes place of the so called ground station. This software is intended for indoor flight and specifically designed for this application; however it can potentially drive any setup with an OptiTrack based motion capture and a MAVLink based quadrotor. Moreover, after a number of investigations, I can safely state that there are not other choices which replace a normal ground station for controlled environments. The aim of this platform is to become, or at least try, an open project in which users and developer can add their own ideas. The system is able to manage complex task lists provided by the user and execute them sequentially in an autonomous way. Autonomy in fact is one of pillars over which the architecture lays its foundations but it shares the weight of the structure with a second one: expandability and modularity. Since each behavior is independent from the others, the system is very modular and consequently expandable. \\

\noindent
Last but not the least, an important phase is the design of an algorithm for landing on a mobile platform using position control and no velocity knowledge of the target. A simple but very effective PI plus offset law is derived and used. Surprisingly we proved to be very effective and, combined with a linear descent relation depending on horizontal error, we achieved the goal. The importance of this outcome relies not only on the completion of the task itself, but on the fact that supports the theory of having an expandable software architecture. The design of this task was not expected till the first version of the software. By adding one behavior and appropriate coding, a task list can be filled with one of the actions being the mobile land, thus demonstrating the capabilities of the system to be expanded. Hence more and more action may be added by keeping this structure.

\section*{Remarks and future work}
The system still presents a number of defects which must be fixed and different aspects to improve. \\

\noindent
I personally think that efficiency can be improved. More in particular there are sporadic events in which the software architecture fails in sending the correct set points compromising the reliability of the system. The global space communication method is certainly not the best solution and must be changed. Regarding the on board modules, sometimes the position estimator fails and the robot needs to be restarted. Even if PX4 is a project in early development, working on this kind of issues is a must and could lead to interesting results and collaborations. \\

\noindent
Having said that, there are lot of aspects to improve and increase the performance of the system, the one with the highest priority are:
\begin{itemize}
\item Explore more the concurrency of behaviors.
\item Design a more complex tracking controller and descent law for the mobile landing.
\item Improve the trajectory following and find another solution rather than sending position set points in sequence.
\item Improve on board control algorithms.
\item Install an on board computer like a RaspBerry Pi in order to increase transmission rate through wifi and perform more aggressive control.
\item Add behaviors and experiment with different switching logic.
\item A porting of the architecture on ROS could be very interesting. 
\end{itemize}
This list of further improvements concludes this chapter and the thesis.